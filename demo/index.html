<!DOCTYPE HTML>
<html>
<head>
	<title>Pixi MultiStyle Text Demo</title>
    <meta charset="UTF-8">
	<link rel="stylesheet" href="style.css" />
	<link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">

	<script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.5.0/pixi.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
	<script src="../dist/pixi-multistyle-text.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
</head>
	<body>
		<h1>Pixi Multistyle Text Demo</h1>
		<main>
			<div id="code-container">
<h2>Basics</h2>
<pre><code class="js">let text = new MultiStyleText(&quot;Let's make some &lt;ml&gt;multiline&lt;/ml&gt;\nand &lt;ms&gt;multistyle&lt;/ms&gt; text for\n&lt;pixi&gt;Pixi.js!&lt;/pixi&gt;&quot;,
{
	&quot;default&quot;: {
		fontFamily: &quot;Arial&quot;,
		fontSize: &quot;24px&quot;,
		fill: &quot;#cccccc&quot;,
		align: &quot;center&quot;
	},
	&quot;ml&quot;: {
		fontStyle: &quot;italic&quot;,
		fill: &quot;#ff8888&quot;
	},
	&quot;ms&quot;: {
		fontStyle: &quot;italic&quot;,
		fill: &quot;#4488ff&quot;
	},
	&quot;pixi&quot;: {
		fontSize: &quot;64px&quot;,
		fill: &quot;#efefef&quot;
	}
});</code></pre>

<h2>Nesting Tags</h2>
<pre><code class="js">let nested = new MultiStyleText(&quot;You can &lt;outline&gt;nest &lt;b&gt;tags &lt;red&gt;as &lt;i&gt;deeply &lt;thicker&gt;as &lt;shadow&gt;you'd &lt;large&gt;like&lt;/large&gt;&lt;/shadow&gt;&lt;/thicker&gt;&lt;/i&gt;&lt;/red&gt;&lt;/b&gt;&lt;/outline&gt;&quot;,
{
	&quot;default&quot;: {
		fontFamily: &quot;Arial&quot;,
		fontSize: &quot;24px&quot;,
		fill: &quot;#cccccc&quot;,
		valign: &quot;bottom&quot;
	},
	&quot;outline&quot;: { stroke: &quot;black&quot;, strokeThickness: 2 },
	&quot;b&quot;: { fontWeight: 700 },
	&quot;red&quot;: { fill: &quot;#ff8888&quot; },
	&quot;i&quot;: { fontStyle: &quot;italic&quot; },
	&quot;thicker&quot;: { strokeThickness: 6 },
	&quot;shadow&quot;: { dropShadow: true, dropShadowColor: &quot;#888888&quot; },
	&quot;large&quot;: { fontSize: &quot;36px&quot; }
});</code></pre>

<h2>Vertical Alignment</h2>
<pre><code class="js">let valign = new MultiStyleText(&quot;You can use &lt;code&gt;valign&lt;/code&gt; to control the &lt;top&gt;vertical&lt;/top&gt; &lt;middle&gt;alignment&lt;/middle&gt; of &lt;bottom&gt;text&lt;/bottom&gt;.&quot;,
{
	&quot;default&quot;: {
		fontFamily: &quot;Arial&quot;,
		fontSize: &quot;24px&quot;,
		fill: &quot;#cccccc&quot;
	},
	&quot;code&quot;: { fontFamily: &quot;Inconsolata&quot;, fill: &quot;#ff8888&quot;, valign: &quot;bottom&quot; },
	&quot;top&quot;: { fontSize: &quot;14px&quot;, valign: &quot;top&quot; },
	&quot;middle&quot;: { fontSize: &quot;14px&quot;, valign: &quot;middle&quot; },
	&quot;bottom&quot;: { fontSize: &quot;14px&quot;, valign: &quot;bottom&quot; }
});</code></pre>

<h2>Wrapping and Alignment</h2>
<pre><code class="js">let wrapping = new MultiStyleText(&quot;Global word wrap and alignment properties are controlled by the \&quot;default\&quot; style, and can't be overridden by other styles.&quot;,
{
	&quot;default&quot;: {
		fontFamily: &quot;Arial&quot;,
		fontSize: &quot;24px&quot;,
		fill: &quot;#cccccc&quot;,
		wordWrap: true,
		wordWrapWidth: 150,
		align: &quot;right&quot;
	}
});</code></pre>

<h2>Wrapping and Alignment II</h2>
<pre><code class="js">let wrapping2 = new MultiStyleText(&quot;全局设置的&lt;blue&gt;对齐&lt;/blue&gt;属性由「默认」来&lt;big&gt;控制&lt;/big&gt;。而且不能被&lt;blue&gt;别的样式&lt;/blue&gt;所&lt;red&gt;覆盖&lt;/red&gt;。&quot;,
{
	&quot;default&quot;: {
		fontFamily: &quot;Arial&quot;,
		fontSize: &quot;16px&quot;,
		fill: &quot;#cccccc&quot;,
		wordWrap: true,
		wordWrapWidth: 250,
		breakWords: true,
	},
	&quot;blue&quot;: { fill: 0x4488ff, stroke: 0x2244cc, fontSize: &quot;24px&quot; },
	&quot;red&quot;: { fill: 0xff8888, stroke: 0xcc4444 },
	&quot;big&quot;: { fill: 0x88ff88, stroke: 0x44cc44, fontSize: &quot;36px&quot; }
});</code></pre>

<h2>Have Fun</h2>
<pre><code class="js">let funStyles = {
	&quot;default&quot;: {
		fontFamily: &quot;Arial&quot;,
		fontSize: &quot;24px&quot;,
		fill: &quot;#cccccc&quot;,
		strokeThickness: 1,
		stroke: &quot;#aaaaaa&quot;,
		dropShadow: true,
		dropShadowBlur: 10,
		dropShadowDistance: 8,
		dropShadowAngle: 0
	},
	&quot;blue&quot;: { fill: 0x4488ff, stroke: 0x2244cc },
	&quot;red&quot;: { fill: 0xff8888, stroke: 0xcc4444 }
};

let fun = new MultiStyleText(&quot;Now have fun making some &lt;blue&gt;beautiful&lt;/blue&gt; &lt;red&gt;multistyle&lt;/red&gt; text!&quot;, funStyles);

function animate() {
	requestAnimationFrame(animate);
	// ...

	funStyles.default.dropShadowAngle += 0.02;
	funStyles.default.dropShadowBlur = Math.sin(funStyles.default.dropShadowAngle + Math.PI / 4) * 5 + 5;
	fun.styles = funStyles;
}

requestAnimationFrame(animate);</code></pre>
			</div>
			<div id="pixi-container">
				<script>
PIXI.settings.RESOLUTION = 2;
let renderer = PIXI.autoDetectRenderer(600, 2400);
renderer.backgroundColor = 0x333333;
document.getElementById("pixi-container").appendChild(renderer.view);
let stage = new PIXI.Container();

// Basics
let text = new MultiStyleText("Let's make some <ml>multiline</ml>\nand <ms>multistyle</ms> text for\n<pixi>Pixi.js!</pixi>",
{
	"default": {
		fontFamily: "Arial",
		fontSize: "24px",
		fill: "#cccccc",
		align: "center"
	},
	"ml": {
		fontStyle: "italic",
		fill: "#ff8888"
	},
	"ms": {
		fontStyle: "italic",
		fill: "#4488ff"
	},
	"pixi": {
		fontSize: "64px",
		fill: "#efefef"
	}
});

text.x = 300 - text.width / 2;
text.y = 150;
stage.addChild(text);

// Nesting Tags
let nested = new MultiStyleText("You can <outline>nest <b>tags <red>as <i>deeply <thicker>as <shadow>you'd <large>like</large></shadow></thicker></i></red></b></outline>",
{
	"default": {
		fontFamily: "Arial",
		fontSize: "24px",
		fill: "#cccccc",
		valign: "bottom"
	},
	"outline": { stroke: "black", strokeThickness: 2 },
	"b": { fontWeight: 700 },
	"red": { fill: "#ff8888" },
	"i": { fontStyle: "italic" },
	"thicker": { strokeThickness: 6 },
	"shadow": { dropShadow: true, dropShadowColor: "#888888" },
	"large": { fontSize: "36px" }
});

nested.x = 300 - nested.width / 2;
nested.y = 550;
stage.addChild(nested);

// Vertical Alignment
let valign = new MultiStyleText("You can use <code>valign</code> to control the <top>vertical</top> <middle>alignment</middle> of <bottom>text</bottom>.",
{
	"default": {
		fontFamily: "Arial",
		fontSize: "24px",
		fill: "#cccccc"
	},
	"code": { fontFamily: "Inconsolata", fill: "#ff8888", valign: "bottom" },
	"top": { fontSize: "14px", valign: "top" },
	"middle": { fontSize: "14px", valign: "middle" },
	"bottom": { fontSize: "14px", valign: "bottom" }
});

valign.x = 300 - valign.width / 2;
valign.y = 960;
stage.addChild(valign);

// Wrapping and Alignment
let wrapping = new MultiStyleText("Global word wrap and alignment properties are controlled by the \"default\" style, and can't be overridden by other styles.",
{
	"default": {
		fontFamily: "Arial",
		fontSize: "24px",
		fill: "#cccccc",
		wordWrap: true,
		wordWrapWidth: 150,
		align: "right"
	}
});

wrapping.x = 550 - wrapping.width;
wrapping.y = 1220;
stage.addChild(wrapping);

// Wrapping and Alignment with "breakWords" set
// Once breakWords is set, line breaks may happen at any position(not just whitespaces) of the text when the width is full.
// This is useful for some languages like Chinese.
let wrapping2 = new MultiStyleText("全局设置的<blue>对齐</blue>属性由「默认」来<big>控制</big>。而且不能被<blue>别的样式</blue>所<red>覆盖</red>。",
{
	"default": {
		fontFamily: "Arial",
		fontSize: "16px",
		fill: "#cccccc",
		wordWrap: true,
		wordWrapWidth: 250,
		breakWords: true,
	},
	"blue": { fill: 0x4488ff, stroke: 0x2244cc, fontSize: "24px" },
	"red": { fill: 0xff8888, stroke: 0xcc4444 },
	"big": { fill: 0x88ff88, stroke: 0x44cc44, fontSize: "36px" }
});

wrapping2.x = 440 - wrapping2.width;
wrapping2.y = 1700;
stage.addChild(wrapping2);

// Have Fun
let funStyles = {
	"default": {
		fontFamily: "Arial",
		fontSize: "24px",
		fill: "#cccccc",
		strokeThickness: 1,
		stroke: "#aaaaaa",
		dropShadow: true,
		dropShadowBlur: 10,
		dropShadowDistance: 8,
		dropShadowAngle: 0
	},
	"blue": { fill: 0x4488ff, stroke: 0x2244cc },
	"red": { fill: 0xff8888, stroke: 0xcc4444 }
};

let fun = new MultiStyleText("Now have fun making some <blue>beautiful</blue> <red>multistyle</red> text!", funStyles);

fun.x = 300 - fun.width / 2;
fun.y = 2180;
stage.addChild(fun);

// Animate
function animate() {
	requestAnimationFrame(animate);
	renderer.render(stage);

	funStyles.default.dropShadowAngle += 0.02;
	funStyles.default.dropShadowBlur = Math.sin(funStyles.default.dropShadowAngle + Math.PI / 4) * 5 + 5;
	fun.styles = funStyles;
}

requestAnimationFrame(animate);
				</script>
			</div>
		</main>
	</body>
</html>
